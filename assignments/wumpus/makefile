CC=g++
CCFLAGS = -std=c++11 -g

EXE_FILE=wumpus
BIN = bin
SRC = src
INCLUDE = include
OBJ = $(BIN)/obj
OBJS := $(OBJ)/main.o $(OBJ)/player.o $(OBJ)/game.o $(OBJ)/room.o $(OBJ)/event.o $(OBJ)/wumpus.o $(OBJ)/bats.o $(OBJ)/pits.o $(OBJ)/gold.o $(OBJ)/help.o

all: $(OBJS) $(BIN)/$(EXE_FILE)

valgrind: clean all 
	clear 
	@echo "Checking for Memory Leaks"
	valgrind ./$(BIN)/$(EXE_FILE)

run: 
	./$(BIN)/$(EXE_FILE)

crun: clean all
	clear
	@echo "ðŸš€ Executing..."
	./$(BIN)/$(EXE_FILE)

debug: clean all
	clear 
	@echo "Debug Mode..."
	sudo gdb ./$(BIN)/$(EXE_FILE)

clean:
	@echo "ðŸ§¹ Clearing..."
	rm -rf $(BIN)/*
	mkdir $(OBJ)

$(OBJ)/%.o: $(SRC)/%.cpp
	$(CC) $(CCFLAGS) -I $(INCLUDE) -c $< -o $@

$(BIN)/$(EXE_FILE): $(OBJS)
	$(CC) $(CCFLAGS) -I $(INCLUDE) $^ -o $@
